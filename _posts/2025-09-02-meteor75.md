---
layout: post
title:  "Modifications I made to my Meteor75 Pro Matrix 1S"
lang: en
tags: [en, elrs, meteor75, 1s, tinywhoop, quad, fpv]
published: true
---

Some of the modifications I made to my Meteor75 Pro with Matrix 1S flight controller. The quad is very nice, but was a mistake to buy Betaflight 6-port charger and their batteries. the NTSC camera can not be switched to PAL and gave me troubles with the goggles.

## pictures

| - | - |
| ![1](/assets/images/meteor-01.jpg) | ![2](/assets/images/meteor-02.jpg) |
| - | - |
| ![3](/assets/images/meteor-03.jpg) | ![4](/assets/images/meteor-04.jpg) |
| - | - |
| ![5](/assets/images/meteor-05.jpg) | ![6](/assets/images/meteor-06.jpg) |
| - | - |
| ![7](/assets/images/meteor-07.jpg) | ![8](/assets/images/meteor-08.jpg) |
| - | - |
| ![9](/assets/images/meteor-09.jpg) | ![10](/assets/images/meteor-10.jpg) |
| - | - |

## modifications

- soldered 20AWG battery leads to the FC
- stopped using Betafpv batteries, they get smelly very fast (it's unclear if it's because of charging at 2C or because of the physical damage from crashes). the smell of the electrolyte is very unpleasant and permeates everything
- resoldered BT2.0 connectors to 格氏 550mah 1s PH2.0 batteries (but it's better to ditch BT2.0 altogether and use GNB A30 connector)
- reflashed with the newest version of Betaflight. the FC is based on STM32G4 chip and uses Betaflight flashing target `BETAFPVG473`. in order to make SmartAudio protocol to work with the internal VTX on Betaflight v.4.5.2 I had to add `NONCOMPLIANT_SMARTAUDIO` to the custom defines when building the firmware
- stopped using betafpv charger as it charges at 1A, so even 550mAh batteries get hot (since this current is almost 2C for them). I use 6S serial connected cable and a regular 6S LiPo charger in LiHV mode. if the total number of batteries is more than 6 but is not divisible by 6, there are two approaches:
  - charge the first batch up to storage voltage, then swap the remaining batteries in and charge to full voltage, then swap back the remaining batteries and charge them to full voltage as well
  - charge in smaller batches, by connecting the batteries consequently starting from #1 on the balance port, shorting the remaining leads to complete the circuit to the positive terminal, and choosing the corresponding number of cells on the charger. for instance, to charge four 1S packs, connect them to #1 through #4, short circuit the terminals within #5 and within #6, and set the charger to 4S LiHV
- turned on the telemetry to be able to use LUA scripts to configure Betaflight from the radio. telemetry tx power is only 10mW
- replaced linearly polarized dipole VTX antenna with a cloverleaf RHCP, `枫叶 light 1s 2dBi RHCP`
- replaced [the stock C03 camera](https://betafpv.com/products/c03-fpv-micro-camera) with a [Caddx Nano Ant camera](https://caddxfpv.com/collections/caddxfpv-tiny-camera/products/caddx-ant-analog-camera) (the regular one with fast f/1.2 lens, not the lite version) because of some weird compatibility problem with Cobra SD goggles causing darkened picture (and fluctuating brightness problems) with NTSC signal. also, Caddxfpv camera settings (_except_ the camera orientation) can be adjusted using OSD menu board. I powered the camera from the UART +5v pad, the dedicated 5v camera pad does not provide enough current for the camera to even start. set everything to PAL mode
- replaced stock props with HQProp 45mm-3 1.5 shaft. they have a bit more propwash than Betafpv beta 45mm, but less than the stock ones because of lower pitch angle. also, hqprop are more durable and cheaper. maybe will go with biblades to lower the propwash.
- started using clamp style prop remover tool with a pusher pin in the middle
- soldered motor wires directly to the flight controller's PCB, removing the JST-SH connectors. it lowers electrical resistance of the power delivery circuit allowing to draw more current
- replaced the stock canopy with a 3D printed one for [walksnail avatar camera](https://www.thingiverse.com/thing:6201941). the canopy also presses onto the VTX's MMXC connector, preventing it from disconnecting during a crash. there is also a canopy version for [the stock C03 camera](https://www.thingiverse.com/thing:6841109)
- Li-Po HV voltage limits are a bit different from the regular Li-Po: can be charged up to 4.35v, nominal voltage is 3.8v, storage voltage is 3.85v

- some of the key changes to the Betaflight settings:
    - ```
    set crash_recovery = ON
    set crash_dthreshold = 80
    set crash_gthreshold = 600
    set crash_setpoint_threshold = 500
    set crash_recovery_rate = 150
    set dshot_bidir = ON
    set motor_pwm_protocol = DSHOT300
    set dyn_idle_min_rpm = 75
    set vbat_sag_compensation = 100
    set thrust_linear = 20
    set anti_gravity_gain = 80
    set vbat_min_cell_voltage = 320
    set vbat_warning_cell_voltage = 340
    set vbat_max_cell_voltage = 440
    set vbat_full_cell_voltage = 420
    set osd_rssi_dbm_alarm = -90

    save
  ```

- set the rates to 160/800/0
- made some changes to PID and filter settings 
- set VTX to a higher frequency channel further away from the wifi range
- settings for Bluejay firmware ESCs:
  - reflashed the ESCs to the newest version of Bluejay firmware, leaving PWM frequency at 96kHz 
  - moved startup sliders to the max
  - set rampup to x3
  - set motor timing to 15 degrees
  in the rates tab set throttle MID to 1.0 and expo to 0.25 to get a linear throttle curve similar to 24/48khz
- propwash can be caused by damaged props or bent motor shafts. [the shafts can be straightned by hand using a hobby hand drill handle](https://www.youtube.com/watch?v=U0RyeabFciM), but only so many times until the metal fatigue sets in




## references

  - https://www.youtube.com/@butterflyfpv
  - https://www.youtube.com/@JoshuaBardwell
  - https://www.youtube.com/@fractalengineering
  - https://www.youtube.com/@ChrisRosser
  - https://oscarliang.com/best-tinywhoop-settings/

